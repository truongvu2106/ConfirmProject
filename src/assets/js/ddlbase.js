/* DDL Version: v1.1.8 */
function checkScroll(){var a=document.getElementById("scroller");if(isFullyScrolled(a)){$(".right-paddle").addClass("hidden")}else{$(".right-paddle").removeClass("hidden")}if(isNotScrolled(a)){$(".left-paddle").addClass("hidden")}else{$(".left-paddle").removeClass("hidden")}}function isFullyScrolled(a){return a.scrollLeft+a.offsetWidth>=a.scrollWidth}function isNotScrolled(a){return 0==a.scrollLeft}function limitSixChildren(){var a=document.getElementById("scroller"),b=a.children;if(b.length>6){var c,d=b[5];for(c=b.length-1;c>=5;c--)a.removeChild(a.children[c]);a.appendChild(d)}}function isOverflownText(){var a=document.getElementsByClassName("horizontal-rule")[0],b=window.getComputedStyle(a.parentElement,null),c=b.getPropertyValue("width");if(a.offsetWidth>c){btn}}function commaSeperatedList(a){for(var b="",c=0;c<a.length;c++)b=0===c?b+" for "+a[c]:c===a.length-1?b+" and "+a[c]:b+", "+a[c];return b+=":"}function arraysEqual(a,b){if(a.length!==b.length)return!1;for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}var CM=CM||{};!function(a){CM.Table=function(b){var c=a(b),d=a("thead",c),e=a("tbody",c);a("tr",e);this.init=function(){a("svg",d).attr("focusable","false"),iOS&&g(c),a("caption",c).attr({"aria-live":"polite","aria-atomic":"false"}),f(a(c))};var f=function(b){a(c).hasClass("stacked-table-section")&&a(c).find(".top-link").click(function(){a(this).hasClass("show-tables")?(a(c).find("table").hide(),a(this).text("Expand all sections"),a(this).removeClass("show-tables"),a(this).addClass("hide-tables")):(a(c).find("table").show(),a(this).text("Collapse all sections"),a(this).removeClass("hide-tables"),a(this).addClass("show-tables"))})},g=function(b){for(var c,d=b.find("th"),f=d.length,g=[],h=0;h<f;h++)""===d[h].id&&void 0===d[h].id&&d[h].id===NULL||g.push(d[h].id);e.find("td").each(function(){if("rowheader"===this.getAttribute("role"))c="e-name";else{var b=a(this).closest("tr").first().find("td"),d=a.inArray(this,b);c=g[d]+" "+b[0].id}this.setAttribute("aria-describedby",c)})}}}(jQuery);var CM=CM||{};!function(a){CM.TableSortable=function(b){var c=a(b),d=(a("thead",c),a("tbody",c)),e=a("tr",d),f={up:"ascending",down:"descending",default:"unsorted"},g={up:"glyphicon glyphicon-triangle-top",down:"glyphicon glyphicon-triangle-bottom",default:"glyphicon glyphicon-triangle-right"},h=f.default;this.init=function(){d.attr("data-rows",e.length),a(".sortable",c).on("click",i),d.on("keydown",j),d.on("DOMSubtreeModified",function(b){var c=a(b.target),e=c.find("tr");e.length>Number(d.attr("data-rows"))&&(CM.TableSortable.methods.unsort(c.closest("table")),c.attr("data-rows",e.length))})},CM.TableSortable.methods={unsort:function(b){b=b instanceof jQuery?b:a(b);var c=b.find(".sorted"),d=c.find("button"),e=d.find(".sr-only"),f=d.find(".glyphicon");b.find(".captionUpdated").html(""),c.attr("aria-sort","none").removeClass("sorted"),d.attr("data-title","unsorted"),e.html("Sort by ascending"),f.attr("data-sort","unsorted").removeClass("glyphicon-triangle-top glyphicon-triangle-bottom").addClass("glyphicon-triangle-right"),b.trigger("sort:reset")}};var i=function(b){b.preventDefault(),k(this);var d=a("tbody",c),e=a("tr",d),g=a(".captionUpdated",c),i=c.siblings(".liveForScreenReaders"),j=a("th",c),m=a(this),p=a(".sorted-last",c),q=[],r=this.getAttribute("data-sort"),s=p.attr("data-sort"),t=a.inArray(this,j),u=a.inArray(p[0],j);"click"===b.type&&a(b.currentTarget).find("button").focus(),e.each(function(){var b={},c=a("td",this),d=a(c[t]),e=a(c[u]);b.tr=this,b.val=d.text(),b.val2=""==e.text()?"0":e.text(),b.sort=r,b.sort2=s,q.push(b)});for(var v=void 0===s?1:2;v>0;){var w="val",x=r;2==v&&(w="val2",x=s),x&&"text"!==x&&"standard"!==x?"date"===x?q=n(q,w):"numeric"===x&&(q=o(q,w)):q=l(q,w),e.remove();for(var y=0;y<q.length;y++)d.append(q[y].tr);v--}d.attr("aria-live","assertive").attr("aria-atomic","true");var z=p.find("[role=button]"),A="Sorted by "+m.find("[role=button]").attr("data-sort-criteria");z.length>0&&(A=A+" then "+z.attr("data-sort-criteria")),A=" ("+A+": "+h+")",g.text(A),i.text(A);var B="";h===f.default&&(B=f.up),h===f.up&&(B=f.down),h===f.down&&(B=f.up),m.find(".sr-only").text("Sorted by "+h+" activate to sort by "+B),a("tbody",".sortable-table").attr({"aria-live":"none","aria-atomic":"false"}),setTimeout(function(){i.html("")},1e3)},j=function(a){13!==a.which&&32!==a.which||this.click()},k=function(b){var c=a(b),d=a(".glyphicon",c),e=f.default,i=g.default;d.attr("data-sort")===f.up?(i=g.down,d.attr("data-sort",f.down),d.attr("class",i),d.parent().attr("data-title","sort "+f.down),e=f.down):(i=g.up,d.attr("data-sort",f.up),d.attr("class",i),d.parent().attr("data-title","sort "+f.up),e=f.up),c.removeClass("sorted-last"),c.siblings().each(function(){var b=a(this);c.hasClass("sorted")||b.removeClass("sorted-last"),b.hasClass("sorted")&&b.addClass("sorted-last"),console.log(i),b.attr("aria-sort","none").removeClass("sorted").find(".glyphicon").attr("data-sort",f.default).attr("class",g.default).parent().attr(titleAttr,f.default),a(".sorted-last").attr("aria-sort",e).find(".glyphicon").attr("class",i).attr("data-sort",e)}),c.attr("aria-sort",e).addClass("sorted"),h=e},l=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d[b].toLowerCase();if(h===f.up)for(var g=c;g>0&&e<a[g-1][b].toLowerCase();g--)a[g]=a[g-1];else for(var g=c;g>0&&e>a[g-1][b].toLowerCase();g--)a[g]=a[g-1];a[g]=d}return a},m=function(a){return new Date(a).getTime()},n=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=m(d[b]);if(h===f.up)for(var g=c;g>0&&e<m(a[g-1][b]);g--)a[g]=a[g-1];else for(var g=c;g>0&&e>m(a[g-1][b]);g--)a[g]=a[g-1];a[g]=d}return a},o=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d[b].replace(/[^0-9.]/g,"");if(h===f.up)for(var g=c;g>0&&e<Number(a[g-1][b].replace(/[^0-9.]/g,""));g--)a[g]=a[g-1];else for(var g=c;g>0&&e>Number(a[g-1][b].replace(/[^0-9.]/g,""));g--)a[g]=a[g-1];a[g]=d}return a}}}(jQuery);var CM=CM||{};!function(a){CM.TableInput=function(b){var c=a(b),d=(a("thead",c),a("tbody",c)),e=(a("tr",d),this);this.init=function(){a(".record_table tr",c).on("click",f),a("input[type='checkbox']",c).on("change",g),a("input[type='radio']",c).on("change",g)},this.impValueCheck=function(){a(".record_table input[name=check]:checked",c).map(function(){return row=a(this).closest("tr"),{date:a(row).find("td[class=date]").text(),payee:a(row).find("td[class=name]").text(),amount:a(row).find("td[class=monetary]").text(),checkbox:a(row).find("input[type=checkbox]:checked").val()||"not selected"}}).get()},this.impValueRadio=function(){a(".record_table input[name=optRadio]:checked",c).map(function(){return row=a(this).closest("tr"),{date:a(row).find("td[class=date]").text(),payee:a(row).find("td[class=name]").text(),amount:a(row).find("td[class=monetary]").text(),radio:a(row).find("input[type=radio]:checked").val()||"not selected"}}).get()};var f=function(b){"checkbox"!==b.target.type&&"radio"!==b.target.type&&(a(":checkbox",this).trigger("click"),a(":radio",this).trigger("click"))},g=function(b){a(this).is(":radio:checked")?(a(this).closest("tr").addClass("highlight_row").siblings("tr").removeClass("highlight_row"),e.impValueRadio()):a(this).is(":checkbox:checked")?(a(this).closest("tr").addClass("highlight_row"),e.impValueCheck()):a(this).closest("tr").removeClass("highlight_row")}}}(jQuery);var CM=CM||{};!function(a){CM.ExpandCollapse=function(b){$el=a(b),$toggleContainer=a(".ec-toggle",$el),$toggleLink=a("a",$toggleContainer),$bodyContainer=a(".ec-body",$el),this.init=function(){instanceName=a(b).attr("name"),"undefined"!=typeof instanceName&&0!=instanceName||(instanceName=c(),a(b).attr("name",instanceName)),a($el).prepend('<a name="'+instanceName+'" class="ec-anchor" aria-hidden="true">Anchor</a> '),a($toggleLink).data("ec-name",instanceName),a($toggleLink).attr("id",instanceName+"-toggle").attr("data-toggle","collapse").attr("data-target","#"+instanceName).attr("href","#"+instanceName).attr("aria-controls",instanceName),"true"==a(b).attr("data-scroll-on-toggle")&&a($toggleLink).data("ec-scroll-on-toggle",!0),a($bodyContainer).attr("data-expand-collapse-id",instanceName).attr("aria-labelledby",$toggleLink.attr("id")),isExpanded=a($toggleLink).attr("aria-expanded"),"undefined"==typeof isExpanded||0==isExpanded?(isExpanded=!1,a($toggleLink).attr("aria-expanded","false")):isExpanded="true"===isExpanded.toLowerCase();var d="collapse";isExpanded&&(d+=" in"),a($bodyContainer).addClass(d),a($bodyContainer).collapse({toggle:!1}),a(document).off("click.bs.collapse.data-api",'[data-toggle="collapse"]'),a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(b){var c=a('.ec-body[data-expand-collapse-id="'+a(this).data("ec-name")+'"]');a(this).data("ec-scroll-on-toggle")?a(c).hasClass("in")&&b.preventDefault():b.preventDefault(),c.collapse("toggle")})};var c=function(){return"ec-"+Math.random().toString(36).substr(2,9)}}}(jQuery);var CM=CM||{};!function(a){CM.Accordion=function(b){var b=a(b),c=this,d=(a("ul:first-of-type > li > .category",b),a(".category, .form-summary, .content-summary",b)),e=a("[aria-controls]",b),f=a(".toggle-accordion",b),g=b.siblings(".nav-tabs");this.init=function(){},this.panel={tabsList:g,preventScroll:b.filter("[data-prevent-auto-scroll=true]").length>0,alwaysOpen:b.filter("[data-always-open-panel=true]").length>0,isMultiselectable:b.find("[aria-multiselectable=true]").length>0,collapse:function(b,c){var d=this,c=c||!1;b.each(function(){if(!d.alwaysOpen||d.alwaysOpen&&c){var b=a(this),e=b.find(".form-summary"),f=b.find("[aria-controls]"),g=a("#"+f.attr("aria-controls"));b.removeClass("is-expanded"),f.attr("aria-expanded","false").attr("data-title","Select to show").attr("aria-selected","false"),g.attr("aria-hidden","true"),e.hasClass(".is-verified")&&e.attr("aria-hidden","false")}}),1===b.length&&this.checkAll(b)},expand:function(b,c){var d=this;b.each(function(){var b=a(this),e=b.find("[aria-controls]"),f=a("#"+e.attr("aria-controls")),g=b.closest(".accordion").find(".is-expanded");d.isMultiselectable||d.collapse(g,!0),b.addClass("is-expanded"),void 0===e.attr("tabindex")&&e.attr("tabindex","0"),e.attr("aria-expanded","true").attr("data-title","Select to hide").attr("aria-selected","true"),f.attr("aria-hidden","false"),!c&&d.tabsList.length>0&&d.changeTab(e)}),1===b.length&&(this.checkAll(b),d.preventScroll||d.tabsList.is(":visible")||window.setTimeout(function(){a("body").animate({scrollTop:b.find("[aria-controls]").offset().top})},800))},toggle:function(a){a.hasClass("is-expanded")?c.panel.collapse(a):c.panel.expand(a)},toggleAll:function(b){var d=b.getAttribute("data-accordion-state")||"collapse",e=a(b).closest(".accordion").find(".level1"),f=a(b).attr("data-toggled-copy"),g=b.innerHTML;a(b).attr("data-toggled-copy",g);var h=f;d="collapse"===d?"expand":"collapse",c.panel[d](e),b.setAttribute("data-accordion-state",d),b.innerHTML=h},checkAll:function(a){var b=a.closest(".accordion"),c=b.find(".toggle-accordion");if(c.length>0){var d=b.find(".level1"),e=b.find(".is-expanded"),f=c.attr("data-accordion-state");(d.length===e.length&&"collapse"===f||0===e.length&&"expand"===f)&&this.toggleAll(c[0])}},changeTab:function(b){console.log("tabbly");var c=this,d=c.tabsList.find(".active"),e=a("#"+b.attr("id")+"-tab");d.removeClass("active").find("a").attr("aria-selected","false").attr("aria-expanded","false"),e.attr("aria-selected","true").attr("aria-expanded","true").closest("li").addClass("active")}},d.on("click",function(b){var d=a(b.currentTarget),e=d.closest(".parent");if(d.hasClass("content-summary")&&e.hasClass("is-expanded"))return!1;d.hasClass(".category")||(d=e.find(".category")),(d.is("[aria-controls]")||d.find("[aria-controls]").length>0)&&!e.hasClass("is-unselectable")&&c.panel.toggle(e)}),e.on("keydown",function(b){var d=a(b.currentTarget).closest(".parent");if(!d.hasClass("is-unselectable"))switch(b.keyCode){case 13:case 32:b.preventDefault(),c.panel.toggle(d);break;case 40:case 39:b.preventDefault(),_focusNextHeader(d);break;case 38:b.preventDefault(),b.ctrlKey?_focusFirstHeader(d):_focusPreviousHeader(d);break;case 37:_focusPreviousHeader(d)}}),f.on("click",function(a){c.panel.toggleAll(a.currentTarget),a.preventDefault()}),g.length>0&&(g.find("li").on("click",function(b){var d=a(b.currentTarget).find("a").attr("data-parent");c.panel.expand(a(d).closest(".tab-pane"),!0)}),g.on("keyup",function(b){var d=g.find(".active > a").attr("data-parent");c.panel.expand(a(d).closest(".tab-pane"),!0)})),_focusFirstHeader=function(a){var b=a.parent().first(".level1");b.length>0&&b.find("[aria-controls]").focus()},_focusPreviousHeader=function(a){var b=a.prev();b.length>0&&b.find("[aria-controls]").focus()},_focusNextHeader=function(a){var b=a.next();b.length>0&&b.find("[aria-controls]").focus()}}}(jQuery);var CM=CM||{};!function(a){CM.AccordionForm=function(b){var c=a(b);this.init=function(){a(".next-step",c);a(".previous-step",c).on("click",function(b){b.preventDefault();var c=a(b.currentTarget).closest(".parent");c.find(".category"),window.setTimeout(function(){var a=c.prev().find(".category");a.click(),a.find("[tabindex]").focus()},500)})},CM.AccordionForm._updateOutput=function(b){b.preventDefault();var c=a(b.currentTarget).closest(".parent"),d=c.find(".category"),e=c.next(),f=c.find(".form-summary"),g=a("input, select, label",c),h={};if(0===c.find(".validation-message-danger").length){g.each(function(){var b=a(this),c=b.attr("id"),d=b.val();b.is("select")?d=a("option:selected:not(:first-child)",this).text():b.is("label")&&(d=b.is("[data-output-value]")?b.attr("data-output-value"):b.html()),h[c]=d}),f.addClass("is-verified");for(currentKey in h){var i="",j="",k=f.find("[data-input-value="+currentKey+"]");k.length>0&&""!==h[currentKey]&&(k.is("[data-suffix],[data-prefix]")&&(i=k.attr("data-prefix")||"",j=k.attr("data-suffix")||""),k.html(i+h[currentKey]+j))}e.removeClass("is-unselectable"),window.setTimeout(function(){e.find(".category").click(),e.length>0?window.setTimeout(function(){e.find("input:first, select:first, button:first").first().focus()},800):d.find("[tabindex]").focus(),0==e.length&&(d.click(),d.closest("fieldset").next().find("input, button, a").focus())},500)}}}}(jQuery);var CM=CM||{};!function(a){CM.Slider=function(b,c){var d,e=a(b),f=this,g={create:function(a,b){f.uiBindInputEvents(a),f.uiInitalizeHandles(a),f.uiBindTouchEvents(a)},slide:function(a,b){f.updateInput(a,b)}},h=a.extend({},g,c),i=["animate","disabled","max","min","orientation","range","step","value","values"];this.init=function(){if(!e.hasClass("custom")){var b=e.closest(".row").prev().find("[data-slider]");a.each(b[0].attributes,function(a,b){var c=String(b.nodeName);-1!==i.indexOf(c)&&(isNaN(b.nodeValue)?"true"===b.nodeValue||"false"===b.nodeValue?h[c]=Boolean(b.nodeValue):h[c]=String(b.nodeValue):h[c]=Number(b.nodeValue))}),b.length>1&&(h.range=!0,h.values=[Number(b[0].getAttribute("value")),Number(b[1].getAttribute("value"))]),e.slider(h)}this.updateBubble(),e.hasClass("slider-bubble")&&a(window).on("resize",function(a){clearTimeout(d),d=setTimeout(function(){f.updateBubble()},100)})},this.updateInput=function(b,c){var d="input";c.values&&(d="[data-slider="+c.handle.getAttribute("data-handle")+"]"),a(c.handle).attr({"aria-valuenow":c.value,"aria-valuetext":c.value}),a(c.handle).closest(".row").prev().find(d).attr({"aria-valuenow":c.value,"aria-valuetext":c.value}).val(c.value),this.updateBubble()},this.updateSliderHandle=function(b,c,d){var e=a(c),f=e.find(".ui-slider-handle");"max"===d?(f.last().attr({"aria-valuenow":b,"aria-valuetext":b}),e.slider("values",[e.slider("values")[0],b])):"min"===d?(f.first().attr({"aria-valuenow":b,"aria-valuetext":b}),e.slider("values",[b,e.slider("values")[1]])):(f.attr({"aria-valuenow":b,"aria-valuetext":b}),e.slider("value",b),f.removeAttr("data-position")),this.updateBubble()},this.touchSlide=function(b,c,d){d.preventDefault();var e={};e.el=b||d.target,e.pos=e.el.getAttribute("data-position");var g=d.originalEvent.touches[0].clientX;if(null!==e.pos){e.which="min"===e.el.getAttribute("data-handle")?0:1;var h={};h.el=c||a(b).closest(".slider"),h.width=h.el.innerWidth(),h.step=h.el.slider("option","step"),h.values=h.el.slider("option","values")||h.el.slider("option","value"),h.limits=[h.el.slider("option","min"),h.el.slider("option","max")];var i=Math.abs(h.limits[0]-h.limits[1])*((g-e.pos)/h.width);if(h.values.length>1){updatedValues=a.extend([],h.values,!1);var j=Number(e.el.getAttribute("data-unrounded"))||h.values[e.which];updatedValues[e.which]=j+i,0===e.which?updatedValues[e.which]<h.limits[0]?updatedValues[e.which]=h.limits[0]:updatedValues[e.which]>h.values[1]?updatedValues[e.which]=h.values[1]:(e.el.setAttribute("data-position",g),e.el.setAttribute("data-unrounded",updatedValues[e.which])):1===e.which&&(updatedValues[e.which]>h.limits[1]?updatedValues[e.which]=h.limits[1]:updatedValues[e.which]<h.values[0]?updatedValues[e.which]=h.values[0]:(e.el.setAttribute("data-position",g),e.el.setAttribute("data-unrounded",updatedValues[e.which]))),updatedValues[e.which]!==h.values[e.which]&&(updatedValues[e.which]=Math.round(updatedValues[e.which]/h.step)*h.step,h.el.slider("values",updatedValues),f.updateInput(d,{handle:e.el,value:updatedValues[e.which],values:h.el.slider("option","values")}))}else{updatedValues=h.values;var j=Number(e.el.getAttribute("data-unrounded"))||h.values;updatedValues=j+i,updatedValues>h.limits[1]?updatedValues=h.limits[1]:updatedValues<h.limits[0]?updatedValues=h.limits[0]:(e.el.setAttribute("data-position",g),e.el.setAttribute("data-unrounded",updatedValues)),updatedValues!==h.values&&(updatedValues=Math.round(updatedValues/h.step)*h.step,h.el.slider("value",updatedValues),f.updateInput(d,{handle:e.el,value:updatedValues}))}}else e.el.setAttribute("data-position",g);this.updateBubble()},this.uiBindInputEvents=function(b){a(b.target).closest(".row").prev().find("[data-slider]").on("input",function(a){window.setTimeout(function(){f.updateSliderHandle(a.target.value,b.target,a.currentTarget.getAttribute("data-slider"))},5)}),this.updateBubble()},this.uiInitalizeHandles=function(b){var c=a(b.target),d=c.find(".ui-slider-handle"),e=c.closest(".row").prev().find("[data-slider]");d.each(function(b,f){var g=c.slider("value"),h={role:"slider","aria-labelledby":e[b].getAttribute("id")};d.length>1&&(g=c.slider("values")[b],h["data-handle"]=0===b?"min":"max"),h["aria-valuenow"]=g,h["aria-valuetext"]=g,a(d[b]).attr(h).text(g)}),this.updateBubble()},this.uiBindTouchEvents=function(b){var c=a(b.target);c.find(".ui-slider-handle").on("touchstart",function(a){a.target.focus(),f.touchSlide(a.target,c,a)}).on("touchmove",function(a){f.touchSlide(a.target,c,a)}).on("touchend",function(a){a.target.removeAttribute("data-position")}),this.updateBubble()},this.updateBubble=function(){setTimeout(function(){if(e.hasClass("slider-bubble")){var a=e.find(".ui-slider-handle"),b=parseFloat(a.css("left")),c=e[0].getBoundingClientRect().width,d=e.find(".popover"),f=d.outerWidth(),g=f/2,h=b-g,i=d.find(".arrow");if(b<g)h=-9,i.css({left:b+9});else if(c<g+b){h=c-f+11;var j=b-c+f;i.css({left:j-11})}else i.css({left:"50%"});d.css({left:h}),d.find(".popover-content").html("$"+a.attr("aria-valuetext").replace(/(.)(?=(\d{3})+$)/g,"$1,"))}},25)}}}(jQuery);var CM=CM||{};!function(a){CM.InlineAddition=function(b){var c=a(b),d=a(".inline-addition-toggle",c);a(".icon-svg",c);this.init=function(){d.on("click",e)};var e=function(a){}}}(jQuery),$(function(){function a(){console.log("in the original datepicker"),I||H?$(".input-group.datepicker-group").addClass("mobile"):$('input[type="date"]').attr("type","text"),$(".ui-datepicker-trigger").attr("aria-describedby","datepickerLabel"),$(".ui-datepicker-trigger").addClass("input-group-addon");var a=$("input.datepicker");if(!a.length)return!1;var b=a.attr("data-date-format"),c=null,d="";a.each(function(a,e){var f=$(this);d=new Date(f.attr("data-populate-date")),(I||H)&&(b="yy-mm-dd"),void 0!==b&&f.datepicker("option","dateFormat",b),c=$.datepicker.formatDate(b,d),h(d)||(c=$.datepicker.formatDate(b,new Date)),f.attr("min",D),f.attr("max",E),f.val(c)}),$("button.ui-datepicker-trigger").attr("aria-role","button").attr("aria-label","pick date using calendar"),f(a.val())}function b(a,b){if(!a||!b)throw new Error("input & dp must be defined so we have something to configure");setTimeout(function(){var d=b.find(".ui-datepicker-today a")[0];d||(d=b.find(".ui-state-active")[0]||b.find(".ui-state-default")[0]),$("main").attr("id","container"),$("#container").attr("aria-hidden","true"),$("#skipnav").attr("aria-hidden","true"),b.find(".ui-datepicker-current").hide(),d.focus(),c(a,b)},0)}function c(a,b){g(a,b);var c;if(b&&a){var e=b;b.data("associatedInput",a),b.find("table").first().attr("role","grid"),b.attr("role","application"),b.attr("aria-label","Calendar view date-picker");var f=b.find(".ui-datepicker-prev")[0],h=b.find(".ui-datepicker-next")[0];h.href="javascript:void(0)",f.href="javascript:void(0)",h.setAttribute("role","button"),h.removeAttribute("title"),f.setAttribute("role","button"),f.removeAttribute("title"),B(h,a,b),B(f,a,b),$(h).on("click",{input:a,dp:b},m),$(f).on("click",{input:a,dp:b},n),w(a,b);var i=b.find(".ui-datepicker-today a")[0];i||(i=b.find(".ui-state-active")[0]||b.find(".ui-state-default")[0]),todayLabel=$(i).attr("aria-label"),$(i).attr("aria-label","Calendar view date picker, "+todayLabel),$(i).one("blur",function(){$(i).attr(todayLabel)}),b.position({my:"left top",at:"left-1 bottom+2",of:a,collision:"none",using:function(b,c){$(this).css("top",b.top).css("left",b.left),$inputGroup=a.parent(".input-group"),"bottom"==c.vertical?($(this).addClass("expanded-above"),$inputGroup.addClass("expanded-above")):($(this).addClass("expanded-below"),$inputGroup.addClass("expanded-below"))}}),$(window).resize(function(){g(a,b),b.position({my:"left top",at:"left-1 bottom+2",of:a,collision:"none"})}),$(window).scroll(function(c){G||d(a,b)}),g(a,b),b.off("keydown").on("keydown",function(g){var i=g.which,j=g.target,k=A(e),p=$(this);if(k||(k=b.find("a.ui-state-default")[0],z(k,b)),27===i)return g.stopPropagation(),d(a,b);if(9===i&&g.shiftKey)g.preventDefault(),$(j).hasClass("ui-datepicker-close")?$(".ui-datepicker-prev")[0].focus():$(j).hasClass("ui-state-default")?$(".ui-datepicker-close")[0].focus():$(j).hasClass("ui-datepicker-prev")?$(".ui-datepicker-next")[0].focus():$(j).hasClass("ui-datepicker-next")&&(c=$(p.find(".ui-state-active")[0]),c&&c.length||(c=p.find(".ui-state-highlight")),c&&c.length&&$(c).focus());else if(9===i)g.preventDefault(),$(j).hasClass("ui-datepicker-close")?(c=$(p.find(".ui-state-active")[0]),c&&c.length||(c=p.find(".ui-state-highlight")),c&&c.length&&$(c).focus()):$(j).hasClass("ui-state-default")?b.find(".ui-datepicker-next")[0].focus():$(j).hasClass("ui-datepicker-next")?b.find(".ui-datepicker-prev")[0].focus():$(j).hasClass("ui-datepicker-prev")&&b.find(".ui-datepicker-close")[0].focus();else if(37===i)!$(j).hasClass("ui-datepicker-close")&&$(j).hasClass("ui-state-default")&&(g.preventDefault(),o(j,a,b));else if(39===i)!$(j).hasClass("ui-datepicker-close")&&$(j).hasClass("ui-state-default")&&(g.preventDefault(),r(j,a,b));else if(38===i)!$(j).hasClass("ui-datepicker-close")&&$(j).hasClass("ui-state-default")&&(g.preventDefault(),u(j,e,f,a));else if(40===i)!$(j).hasClass("ui-datepicker-close")&&$(j).hasClass("ui-state-default")&&(g.preventDefault(),v(j,e,h,a));else if(13===i)$(j).hasClass("ui-state-default")?setTimeout(function(){d(a,b)},100):$(j).hasClass("ui-datepicker-prev")?n():$(j).hasClass("ui-datepicker-next")&&m(null,a,b);else if(32===i)($(j).hasClass("ui-datepicker-prev")||$(j).hasClass("ui-datepicker-next"))&&j.click();else if(33===i)l(j,"prev",a,b);else if(34===i)l(j,"next",a,b);else if(36===i){var q=$(j).closest("tbody").find(".ui-state-default")[0];q&&(q.focus(),z(q,b))}else if(35===i){var s=$(j).closest("tbody").find(".ui-state-default"),t=s[s.length-1];t&&(t.focus(),z(t,b))}b.find(".ui-datepicker-current").hide()})}}function d(a,b){function c(){F=!1}b.removeClass("expanded-above").removeClass("expanded-below"),b.off("keydown");var d=a.parent(".input-group.datepicker-group");d.removeClass("expanded-below"),d.removeClass("expanded-above"),F=!1,setTimeout(c,500);var e=null;e=H?a.closest(".datepicker-label"):a,e.focus()}function e(){$("#container").removeAttr("aria-hidden"),$("#skipnav").removeAttr("aria-hidden")}function f(a,b,c){var b=b||$("input.datepicker"),d=a,e="Today: ";if(""!=d&&-1===b.val().indexOf(e)){var f=new Date(d),g=new Date;f.setHours(0,0,0,0)===g.setHours(0,0,0,0)&&b.val(e+d)}}function g(a,b){var c=a.closest(".input-group.datepicker-group").width()+1;b.css("min-width",c)}function h(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())}function i(){return navigator.userAgent.toLowerCase().indexOf("android")>-1&&navigator.userAgent.toLowerCase().indexOf("mobile")}function j(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function k(a,b){var c=b||500;a.prop("readonly",!0),a.focus(function(a){a.preventDefault(),a.stopPropagation()}),setTimeout(function(){a.prop("readonly",!1),a.off("focus")},c)}function l(a,b,c,d){var e="next"===b?d.find(".ui-datepicker-next")[0]:d.find(".ui-datepicker-prev")[0];if(e){var f=d.find("tbody td:not(.ui-state-disabled)"),g=$.inArray(a.parentNode,f);e.click(),setTimeout(function(){x();for(var a=d.find("tbody td:not(.ui-state-disabled)"),b=a[g],c=b&&$(b).find("a")[0];!c;)g--,b=a[g],c=b&&$(b).find("a")[0];z(c,d[0]),c.focus()},0)}}function m(a,b,c){var b=a&&a.data.input?a.data.input:b,c=a&&a.data.dp?a.data.dp:c;setTimeout(function(){x(b,c),y(),c.find(".ui-datepicker-next").focus(),c.find(".ui-datepicker-current").hide()},0)}function n(a,b,c){var b=a&&a.data.input?a.data.input:b,c=a&&a.data.dp?a.data.dp:c;setTimeout(function(){x(b,c),y(),c.find(".ui-datepicker-prev").focus(),c.find(".ui-datepicker-current").hide()},0)}function o(a,b,c){if(a){var d=$(a).closest("td");if(d){var e=$(d).prev(),f=$("a.ui-state-default",e)[0];e&&f?(z(f,c),f.focus()):p(a,b,c)}}}function p(a,b,c){if(a){var d=$(a).closest("tr");if(d){var e=$(d).prev();if(e&&0!==e.length){var f=$("td a.ui-state-default",e),g=f[f.length-1];g&&setTimeout(function(){z(g,c),g.focus()},0)}else q(b,c)}}}function q(a,b){b.find(".ui-datepicker-prev")[0].click(),setTimeout(function(){var a=$("tr",b),c=$("td a.ui-state-default",a[a.length-1]),d=c[c.length-1];x(),z(d,b),d.focus()},0)}function r(a,b,c){if(a){var d=$(a).closest("td");if(d){var e=$(d).next(),f=$("a.ui-state-default",e)[0];e&&f?(z(f,c),f.focus()):s(a,b,c)}}}function s(a,b,c){if(a){var d=$(a).closest("tr"),e=$(d).next();if(e&&0!==e.length){var f=$("a.ui-state-default",e)[0];f&&(z(f,c),f.focus())}else t(b,c)}}function t(a,b){nextMon=b.find(".ui-datepicker-next")[0],nextMon.click(),setTimeout(function(){x();var a=$("a.ui-state-default",b)[0];z(a,b),a.focus()},0)}function u(a,b,c,d){c=$(".ui-datepicker-prev")[0];var e=$(a).closest("tr");if(e){var f=$("td",e),g=$("a.ui-state-default",e),h=$.inArray(a,g),i=$(e).prev(),j=$("td",i),k=j[h],l=$("a.ui-state-default",k)[0];i&&k&&l?(z(l,b),l.focus()):(c.click(),setTimeout(function(){x(d,b);var c=$("tr",b),e=c[c.length-1],g=$("td",e),h=$.inArray(a.parentNode,f),i=g[h],j=$("a.ui-state-default",i)[0];if(e&&i&&j)z(j,b),j.focus();else{var k=c[c.length-2],l=$("td",k),m=l[h],n=$("a.ui-state-default",m)[0];n&&(z(n,b),n.focus())}},0))}}function v(a,b,c,d){c=$(".ui-datepicker-next")[0];var e=$(a).closest("tr");if(e){var f=$("td",e),g=$.inArray(a.parentNode,f),h=$(e).next(),i=$("td",h),j=i[g],k=$("a.ui-state-default",j)[0];h&&j&&k?(z(k,b),k.focus()):(c.click(),setTimeout(function(){x(d,b);var a=$("tbody tr",b),c=$("td",a[0]),e=c[g],f=$("a.ui-state-default",e)[0];if(e&&f)z(f,b),f.focus();else{var h=a[1],i=$("td",h),j=i[g],k=$("a.ui-state-default",j)[0];h&&k&&(z(k,b),k.focus())}},0))}}function w(a,b){var c=b.find(".amaze-date");if($(c).each(function(a){a.parentNode.removeChild(a)}),b){var d=$("a.ui-state-default",b);$(d).each(function(a,c){var d=$(c).closest("tr"),e=$("td",d),f=$.inArray(c.parentNode,e),g=$("thead tr th",b),h=g[f],i=$("span",h)[0],j=$(".ui-datepicker-month",b)[0].innerHTML,k=$(".ui-datepicker-year",b)[0].innerHTML,l=c.innerHTML;if(i&&j&&l&&k){var m=j+" "+c.innerHTML+" "+k+" "+i.title;c.setAttribute("aria-label",m)}})}}function x(a,b){var c=b;c&&(g(a,b),$(c).find("table").first().attr("role","grid"),prev=$(".ui-datepicker-prev",c)[0],next=$(".ui-datepicker-next",c)[0],next.href="javascript:void(0)",prev.href="javascript:void(0)",next.setAttribute("role","button"),prev.setAttribute("role","button"),B(next,a,b),B(prev,a,b),$(next).on("click",{input:a,dp:b},m),$(prev).on("click",{input:a,dp:b},n),w(a,b))}function y(){var a,b=document.getElementById("ui-datepicker-div");(a=$(".ui-state-highlight",b)[0]||$(".ui-state-default",b)[0])&&b&&z(a,b)}function z(a,b){var c=A(b);$(c).removeClass("ui-state-highlight"),$(a).addClass("ui-state-highlight")}function A(a){return $(".ui-state-highlight",a)[0]}function B(a,b,c){var d,e=$(a).hasClass("ui-datepicker-next"),f=["january","february","march","april","may","june","july","august","september","october","november","december"],g=c.find(".ui-datepicker-title .ui-datepicker-month").text().toLowerCase(),h=$.inArray(g.toLowerCase(),f),i=c.find(".ui-datepicker-title .ui-datepicker-year").text().toLowerCase(),j=e?h+1:h-1;e&&"december"===g?(i=parseInt(i,10)+1,j=0):e||"january"!==g||(i=parseInt(i,10)-1,j=f.length-1),d=e?"Next Month, "+C(f[j])+" "+i:"Previous Month, "+C(f[j])+" "+i,$(a).find(".ui-icon").html(d)}function C(a){return String(a).charAt(0).toUpperCase()+String(a).slice(1)}var D="1900-01-01",E="9999-12-31",F=!1,G=!0,H=i(),I=j();$(".datepicker").datepicker({showOn:"button",buttonImage:"/images/icons/svgs/calender/cal_icon.svg",buttonImageOnly:!1,buttonText:"Date Picker",dayNamesShort:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["S","M","T","W","T","F","S"],dateFormat:"DD MM d, yy",showButtonPanel:!0,numberOfMonths:[1,2],closeText:"Close",showOn:"button",beforeShow:function(a,c){if(F)return!1;G=!1,b($(a),$(c.dpDiv)),k($(a),500)},onClose:function(a,b){G=!0;var c=$(this),f=$(b.dpDiv);e(),d(c,f),c.prop("readonly",!1)},onSelect:function(a,b){},onChangeMonthYear:function(a,b,c){k($(this),500)}}),a()}),$(function(){"use strict";function a(a){i.find(">div, >header, >main, >section, >footer, >span, >a").not(".modal").attr("aria-hidden","true");var b=0,c=$(a.target);if(h.push(c.attr("id")),c.hasClass("modal-scrollable")){c.find(".modal-body").animate({scrollTop:0},"slow"),b=10}window.setTimeout(function(){e(a)},b)}function b(a){var b=$.inArray($(a.target).attr("id"),h);-1!=b&&h.splice(b,1),i.find(">div, >header, >main, >footer, >span, >a").not(".modal").removeAttr("aria-hidden"),i.find("[data-target=#"+$(a.target).attr("id")+"]").first().focus()}function c(a){}function d(a){$(this);$(this).find("iframe.embed-responsive-item").each(function(a){$(this).attr("src",$(this).attr("src"))})}function e(a){$(a.target).find("#"+a.target.getAttribute("aria-labelledby")).focus(),$(a.target).attr("tabindex",1)}function f(a){g.each(function(){$(this).hasClass("with-tooltip")&&$(this).css("width","100%")})}var g=$("input, select, textarea, .input-group");$("body").on("keydown",function(a){var b=$(".popover.in");if(27===a.keyCode&&b.length>0){var c=b.prev("[data-toggle=popover]");CM.Tooltip.methods.hide(c,!0)}}),$(".slider-bubble .ui-slider-handle").on("click",function(a){a.preventDefault()});var h=[],i=$("body"),j=$(".modal");navigator.userAgent.match(/iPhone|iPad|iPod/i)&&$(".modal").on("show.bs.modal",function(){$(this).css({position:"absolute",marginTop:$(window).scrollTop()+"px",bottom:"auto"}),setTimeout(function(){$(".modal-backdrop").css({position:"absolute",top:0,left:0,width:"100%",height:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)+"px"})},0)}),$.fn.modal.Constructor.prototype.hide=function(a){a&&a.preventDefault(),a=$.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal(),$(document).off("keydown.bs.modal"))},$.each(j,function(){var a=$(this);a.closest(".theme-light").length>0&&a.find(".modal-dialog").addClass("theme-light")}),i.append(j),j.on("shown.bs.modal",a),j.on("hidden.bs.modal",b),j.on("show.bs.modal",c),j.on("hide.bs.modal",d),$(window).on("load",f),$(window).on("resize",f),j.on("shown.bs.modal",function(a){$(".popover.in").fadeOut("fast"),$("[data-toggle=popover]").not(this).removeAttr("data-open-method").removeAttr("data-from-close").attr("aria-expanded","false").popover("hide")}),$(document).on("keydown",function(a){if(h.length&&9==a.which){var b=h[h.length-1],c=document.getElementById(b),d=$(c).find("*"),e=d.filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex=0], *[contenteditable]").filter(":visible"),f=$(":focus"),g=e.length,i=e.index(f);0===g?($(c).focus(),a.preventDefault()):a.shiftKey?0===i&&(e.get(g-1).focus(),a.preventDefault()):i==g-1&&(e.get(0).focus(),a.preventDefault())}})});var CM=CM||{};$(function(){CM.FormLabel=function(a){var b=$(a);this.init=function(){b.on("focus",function(a){$(a.currentTarget).closest(".form-group").addClass("is-focused")}).on("blur",function(a){$(a.currentTarget).closest(".form-group").removeClass("is-focused")}).on("input",function(a){c(a)}).on("change",function(a){c(a)})};var c=function(a){var b=$(a.currentTarget);""===b.val()?b.closest(".form-group").removeClass("has-value "+a.currentTarget.nodeName.toLowerCase()+"-value"):b.closest(".form-group").addClass("has-value "+a.currentTarget.nodeName.toLowerCase()+"-value")}}});var CM=CM||{};$(function(){CM.FormPassword=function(a){function b(a,b){var c=a.replace(/ *auto */i,"");window.innerWidth,window.innerHeight,b[0].getBoundingClientRect();return c}CM.FormPassword.fields=CM.FormPassword.fields||{};var c=$(a);void 0===c.attr("id")&&c.attr("id","password-input-"+Math.Random().toString().replace(".",""));var d={no:"Requirement will be checked on form submission ",check:"Password meets requirement ",x:"Password does not meet requirement "},e=c.attr("id"),f={nospaces:{copy:"No Spaces",regexp:new RegExp("[ ]","g"),outcome:!1},hasletter:{copy:"At least 1 letter",regexp:new RegExp("[a-zA-Z]","g"),outcome:!0},hasuppercaseletter:{copy:"At least 1 uppercase letter",regexp:new RegExp("[A-Z]","g"),outcome:!0},haslowercaseletter:{copy:"At least 1 lowercase letter",regexp:new RegExp("[a-z]","g"),outcome:!0},hasnumber:{copy:"At least 1 number",regexp:new RegExp("[0-9]","g"),outcome:!0},hasspecialcharacter:{copy:"At least 1 special character",regexp:new RegExp("[,;:<>{}|/!@#$%^&*)(+=._-]","g"),outcome:!0},minmax:{copy:"From 6 - 50 characters",regexp:new RegExp("^.{6,50}$","g"),outcome:!0},noconsecutive:{copy:"No more than 2 consecutive characters",regexp:new RegExp("(.)\\1{2}","g"),outcome:!1},nospecialcharacters:{copy:"May contain letters and numbers",regexp:new RegExp("[^a-z0-9]","gi"),outcome:!1}},g=[];this.init=function(){CM.FormPassword.fields[e]=CM.FormPassword.fields[e]||{},CM.FormPassword.fields[e].rules={list:[],custom:[]},CM.FormPassword.fields[e].copy={};var a=c.attr("data-custom-rules"),d=c.attr("data-placement")||"right auto",f=c.attr("data-rules"),h=new RegExp("min-max","g"),i=new RegExp("no-consecutive","g"),j=[];if(CM.FormPassword.fields[e].copy.failMsg=c.attr("data-fail-msg")||"Your password doesn&#39;t seem to meet our requirements",CM.FormPassword.fields[e].copy.successMsg=c.attr("data-success-msg")||"Your password meets our requirements",a){var k=[new RegExp("{'","g"),new RegExp("':'","g"),new RegExp("','","g"),new RegExp("'}","g")];a=a.replace(k[0],'{"').replace(k[1],'":"').replace(k[2],'","').replace(k[3],'"}'),g=JSON.parse(a);for(var l=0;l<g.length;l++){if(void 0!==g[l].outcome&&(g[l].outcome="true"===g[l].outcome),void 0!==g[l].regexp){var m="g";void 0!==g[l].global&&(m="true"===g[l].global?"g":""),void 0!==g[l].ignorecase&&(m+="true"===g[l].ignorecase?"i":""),g[l].regexp=new RegExp(g[l].regexp,m)}void 0!==g[l].disabled&&(g[l].disabled="true"===g[l].disabled)}}if(f){j=c.attr("data-rules").split(" ");for(var n=j.length-1;n>=0;n--)if(h.test(j[n])){var o=j[n].match(/\d+/g);void 0!==o[0]?(g.push({copy:"From "+o[0]+" - "+o[1]+" characters",regexp:new RegExp("^.{"+o[0]+","+o[1]+"}$","g"),outcome:!0}),j.splice(n,1)):j[n]=j[n].replace(/[-]/g,"")}else if(i.test(j[n])){var p=j[n].match(/\d+/g);null!==p?(g.push({copy:"No more than "+p+" consecutive characters",regexp:new RegExp("(.)\\1{"+p+"}","g"),outcome:!1}),j.splice(n,1)):j[n]=j[n].replace(/[-]/g,"")}else j[n]=j[n].replace(/[-]/g,"")}CM.FormPassword.fields[e].rules.list=$.extend([],j),CM.FormPassword.fields[e].rules.custom=$.extend([],g);var q=CM.FormPassword.testAllRules(c)?"successMsg":"failMsg";c.is("[data-toggle=popover]")&&(c.popover({trigger:"manual",placement:b(d,c),title:"Password Guidelines",html:!0,content:CM.FormPassword.buildRuleList(e),template:'<div class="password-popover popover has-header" role="tooltip"><div class="arrow"></div><span role="alert" class="password-status">'+CM.FormPassword.fields[e].copy[q]+'</span><h3 class="popover-title"></h3><div class="popover-content"></div><button class="popover-close-button" tabindex="0">close</button></div>'}).on("shown.bs.popover",function(){c.next().find(".popover-close-button").on("touchstart",function(a){a.preventDefault(),c.blur()})}).on("inserted.bs.popover",function(a){CM.FormPassword.updateFieldStatus($(a.currentTarget))}),c.on("focus",function(a){"true"!==c.attr("data-from-close")?c.popover("show"):c.removeAttr("data-from-close")}).on("blur",function(a){var b=$(this);window.setTimeout(function(){b.next().find(".popover-close-button").is(":focus")||b.popover("hide")},10)}).on("input change",function(a){var b=$(this);window.setTimeout(function(){CM.FormPassword.updateFieldStatus(b)},10)}).one("inserted.bs.popover",function(a){$(a.currentTarget).next(".popover").find(".popover-close-button").on("click touchstart",function(a){a.preventDefault();var b=$(this),c=b.closest(".popover.in"),d=c.prev("[data-toggle=popover]");CM.Tooltip.methods.hide(d,!0,!0),c.attr("aria-expanded","false")})}))},CM.FormPassword.updateFieldStatus=function(a){var b=a.attr("id");CM.FormPassword.testAllRules(a)?(a.removeClass("validation-input-danger"),a.next().find(".password-status").html(CM.FormPassword.fields[b].copy.successMsg)):(a.addClass("validation-input-danger"),a.next().find(".password-status").html(CM.FormPassword.fields[b].copy.failMsg))},CM.FormPassword.testAllRules=function(a){var b=a.attr("id"),c=CM.FormPassword.fields[b].rules.list,e=CM.FormPassword.fields[b].rules.custom,g=!0,h=a.val();if(c.length>0)for(var i=0;i<c.length;i++){var j=f[c[i]],k=a.next().find("[data-rule="+c[i]+"]"),l=void 0!==j.disabled&&j.disabled;l||(CM.FormPassword.testRule(j,h)?(k.removeClass("x-mark").addClass("check-mark"),k.find(".validation-rule-status").html(d.check)):(k.removeClass("check-mark").addClass("x-mark"),k.find(".validation-rule-status").html(d.x),g=!1))}if(e.length>0)for(var m=0;m<e.length;m++){var n=a.next().find("[data-rule=custom-"+m+"]"),o=void 0!==e[m].disabled&&e[m].disabled;o||(CM.FormPassword.testRule(e[m],h)?(n.removeClass("x-mark").addClass("check-mark"),n.find(".validation-rule-status").html(d.check)):(n.removeClass("check-mark").addClass("x-mark"),n.find(".validation-rule-status").html(d.x),g=!1))}return g},CM.FormPassword.testRule=function(a,b){var c=void 0===a.outcome||a.outcome;a.method;if(void 0!==a)return Boolean(b.match(a.regexp))===c},CM.FormPassword.buildRuleList=function(a){var b=CM.FormPassword.fields[a].rules.list,c=CM.FormPassword.fields[a].rules.custom,d="<ul>";if(b.length>0)for(var e=0;e<b.length;e++){var g=f[b[e]];d+=CM.FormPassword.buildRuleItem(g,b[e])}if(c.length>0)for(var h=0;h<c.length;h++)d+=CM.FormPassword.buildRuleItem(c[h],h);return d+="</ul>"},CM.FormPassword.buildRuleItem=function(a,b){var b=b,c=void 0===a.outcome||a.outcome;if(a.disabled)var e="no";else var e=c?"x":"check";return isNaN(b)||(b="custom-"+b),'<li class="'+e+'-mark" data-rule="'+b+'"><span class="validation-rule-status sr-only">'+d[e]+"</span>"+a.copy+"</li>"}}});var CM=CM||{};$(function(){CM.FormPasswordStrengthIndicator=function(a,b){this.init=function(){var c=this;this.input=b[0],this.indicator=a.getElementsByClassName("color-bar")[0],this.indicatorTitle=a.getElementsByClassName("level-label")[0],$(b).on("input",function(a){c.setState()}),this.setState()},this.setState=function(){var a=this.input.value,b=this.getPasswordStrength(a);this.setIndicatorLevel(b)},this.getPasswordStrength=function(a){if(a){var b=a.length;return b>3&&a.length<7?"weak":b>=7&&b<11?"medium":b>=11?"strong":"invalid"}return"invalid"},this.setIndicatorLevel=function(a){this.indicator&&this.indicatorTitle&&("invalid"===a?(this.indicator.className="color-bar invalid",this.indicatorTitle.innerHTML="Invalid"):"weak"===a?(this.indicator.className="color-bar weak",this.indicatorTitle.innerHTML="Weak"):"medium"===a?(this.indicator.className="color-bar medium",this.indicatorTitle.innerHTML="Medium"):"strong"===a&&(this.indicator.className="color-bar strong",this.indicatorTitle.innerHTML="Strong"))}}});var CM=CM||{};$(function(){CM.FormFormatted=function(a){var b=$(a),c=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,91,92,93,112,113,114,115,116,117,118,119,120,121,122,123,144,145,130,129,128,127,126,125,124];this.init=function(){var a=b.attr("data-format"),d=document.createElement("span"),e=document.createElement("span"),f=b.attr("data-format-enforcement");d.style.left=b.position().left+1+"px",d.className="formatting-text",e.className="format-text",d.setAttribute("aria-hidden","true"),d.setAttribute("role","presentation"),e.innerHTML=a,d.appendChild(e),b.after(d),""===f&&null===f&&void 0===f||(f=new RegExp(f),b.on("keydown",function(a){if(-1===c.indexOf(a.keyCode)){var b=String.fromCharCode(a.keyCode),d=String.fromCharCode(a.keyCode-48);if(!b.match(f)&!d.match(f))return!1}}))}}});var CM=CM||{};!function(a){CM.PercentageProgressIndicator=function(b){var c=a(b),d=a(".progress-label",c),e=a(".progress-bar",c);this.init=function(a){c.data("percentageProgressIndicator")||c.data("percentageProgressIndicator",a)},this.updateProgress=function(b){try{if(b<0&&b>100)throw"PercentageProgressIndicator.updateProgress: method expects value between 0.0 - 100.0";e.css("width",b+"%"),e.attr("aria-valuenow",b),a(".progress-percentage",d).text(Math.round(b)+"%")}catch(a){console.log("ERROR: "+a)}}}}(jQuery);var CM=CM||{};!function(a){CM.Modal=function(b){this.init=function(){a(b.getAttribute("data-target")).on("shown.bs.modal",function(b){a(b.currentTarget).find(".modal-dialog").focus(),a(b.currentTarget).find("button").click(function(b){var c=a(b.target).attr("data-href");c&&(window.location.href=c)})});var c=a(b);c.is("a")&&c.on("keypress",function(a){32==a.keyCode&&(a.preventDefault(),c.click())})}}}(jQuery);var CM=CM||{};$(function(){CM.DatepickerDOB=function(a){function b(a,b){var e=[],f=d(h,g).sort();b&&e.push({label:b,value:"",disabled:!1});for(var i=f.length-1;i>=0;i--)e.push({label:f[i],value:f[i]});a.html(c(e))}function c(a){var b=[],c=null,d=[],e=!1;return a.forEach(function(a,f,g){d=d&&d.length?a.classes.join(" "):"",e=!!a.disabled,c=$("<option>",{id:a.id,class:d}).attr("value",a.value).attr("disabled",e).html(a.label),b.push(c)}),b}function d(a,b){function c(a,b,d){return a>b?d:(d.push(a),c(a+1,b,d))}return c(a,b,[])}var a=$(a),e=20,f=83,g=(new Date).getFullYear()-e,h=g-f;this.init=function(){var c=a.find("select.dob-year");b(c,c.attr("data-first-item-label"))}}});var CM=CM||{};$(function(){CM.SimpleDateInput=function(a){this.init=function(){var b=$(a),c=["MM d, yy","MM d, y","M d, yy","M d, y","mm/dd/y","mm/dd/yy","mm-dd-y","mm-dd-yy","mm dd y","mm dd yy","dd/mm/y","dd/mm/yy","dd-mm-y","dd-mm-yy","dd mm y","dd mm yy"],d=b.attr("data-format"),e=b.attr("data-additional-formats");-1!==d.indexOf("yyyy")?d=d.replace("yyyy","yy"):-1!==d.indexOf("yy")&&(d=d.replace("yy","y")),e?(d&&(e=d+"|"+e),c=e.split("|").concat(c)):d&&(c=[d].concat(c)),b.on("blur",function(){for(var a=b.val().replace(/\D+(?=,)/,""),d=void 0,e=0;e<c.length;e++){try{d=$.datepicker.parseDate(c[e],a)}catch(a){}if(void 0!==d)break}if(isNaN(d)||null===d)b.addClass("date-invalid");else{var f=String(d.getDate()),g=f.charAt(f.length-1),h="th";"1"===g&&-1===f.indexOf("11")?h="st":"2"===g&&-1===f.indexOf("12")?h="nd":"3"===g&&-1===f.indexOf("13")&&(h="rd"),b.removeClass("date-invalid"),b.val($.datepicker.formatDate("MM d'"+h+"', yy",d))}})}}});var CM=CM||{};$(function(){CM.TableInternalExpand=function(a){var a=$(a);this.init=function(){a.find(".details-button").on("click",function(a){var b=$(a.currentTarget),c=$(a.target).closest("tr");c.hasClass("is-expanded")?(c.removeClass("is-expanded").addClass("is-collapsed"),b.attr("aria-expanded","false").html('<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span><span class="btn-text">More details</span>')):(c.addClass("is-expanded").removeClass("is-collapsed"),b.attr("aria-expanded","true").html('<span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span><span class="btn-text">Less details</span>'))})}}});var CM=CM||{};$(function(){CM.TableInternalTransactionExpand=function(a){var a=$(a);this.init=function(){a.on("click",".details-button",function(a){var b=$(a.currentTarget),c=$(a.target).closest("tr");c.hasClass("is-expanded")?(c.removeClass("is-expanded").addClass("is-collapsed"),b.attr("aria-expanded","false").find(".glyphicon").addClass("glyphicon-triangle-bottom").removeClass("glyphicon-triangle-top")):(c.addClass("is-expanded").removeClass("is-collapsed"),b.attr("aria-expanded","true").find(".glyphicon").addClass("glyphicon-triangle-top").removeClass("glyphicon-triangle-bottom"))})}}});var CM=CM||{};$(function(){CM.AssociatedInput=function(a){var b=$(a);this.init=function(){var a=b.find("[type=radio],[type=checkbox]"),c=b.find(".form-control").not("[type=radio],[type=checkbox]"),d=void 0;"radio"===a.attr("type")&&(d=b.parent().find(".associated-input")),a.change(function(b){void 0!==d?d.each(function(){var a=$(this).find("[type=radio]"),b=$(this).find(".form-control").not("[type=radio],[type=checkbox]");a.is(":checked")?(b.removeAttr("disabled"),b.attr("tabindex","0"),b.closest(".focus-group").removeClass("is-disabled")):(b.attr("disabled","disabled"),b.attr("tabindex","-1"),b.closest(".focus-group").addClass("is-disabled"))}):a.is(":checked")?(c.closest(".focus-group").removeClass("is-disabled"),c.removeAttr("disabled"),c.attr("tabindex","0")):(c.closest(".focus-group").addClass("is-disabled"),c.attr("disabled","disabled"),c.attr("tabindex","-1"))})}}});var CM=CM||{};$(function(){CM.FormAddonBtn=function(a){var b=$(a);this.init=function(){b.on("focus",function(a){$(a.currentTarget).closest(".input-group-btn").addClass("is-focused")}).on("blur",function(a){$(a.currentTarget).closest(".input-group-btn").removeClass("is-focused")})}}});var CM=CM||{};$(function(){CM.CardSelector=function(a){function b(a){var b=$(this).find(":selected").attr("data-card-id");c(b),d(b)}function c(b){var c=$(a).find(".card[data-card-id='"+b+"']");c.length?(c.siblings(".card").removeClass("active"),c.addClass("active")):$(a).find(".card").removeClass("active")}function d(b){var c=$(a).find(".card-info-table[data-card-id='"+b+"']");c.length?(c.siblings(".card-info-table").removeClass("active"),c.addClass("active"),c.find("[tabindex]:first").focus()):$(a).find(".card-info-table").removeClass("active")}var a=$(a);this.init=function(){a.change(b)}}});var CM=CM||{};$(function(){CM.InlineContentAddition=function(a){var b=$(a);this.init=function(){b.attr("aria-expanded",this.checked),b.is(":checkbox")&&b.on("change",function(a){$(this).attr("aria-expanded",this.checked)}),b.is(":radio")&&b.on("change",function(a){var b=$(this);b.attr("aria-expanded",this.checked),$("input[name="+b.attr("name")+"]").not(b).attr("aria-expanded",!1)})}}});var CM=CM||{};$(function(){CM.SimpleEditableTable=function(a){var b,c,a=$(a),d=a.next().find(".btn-simple-edit");this.init=function(g,h){b=g,c=h,d.on("click",function(){d.attr("data-toggle")==g?e(a):d.attr("data-toggle")==h&&f(a)})};var e=function(a){var d=$("input, select, textarea",a);g(c,b),a.toggleClass("edit-mode",!0),$(d[0]).focus()},f=function(a){var d=$("input, select, textarea",a);h(d)&&(d.each(function(){var a=$(this);a.parent().prev().html("<span>"+a.val()+"</span>"),a.removeClass("validation-input-danger")}),g(b,c),a.toggleClass("edit-mode",!1))},g=function(a,b){var c=d.text();d.text(c.replace(a,b)),d.attr("data-toggle",a)},h=function(a){var b=!0,c=!0;return a.each(function(){var a=$(this),d=a.val(),e="Field cannot be blank";a.parent().find("span").remove(),a.is("select")&&(d=$("option:selected:not(:first-child)",a).text(),e="Please make a selection"),""==$.trim(d)&&(c=!1,a.addClass("validation-input-danger").attr("aria-describedby",a.prop("id")+"Error").parent().append('<span class="validation-message-danger"></span>').find(".validation-message-danger").prop("id",a.prop("id")+"Error").html(e),!0===b&&(b=!1,a.focus()))}),c}}});var CM=CM||{};$(function(){CM.ExpandablePanel=function(a){CM.ExpandablePanel.panels=CM.ExpandablePanel.panels||{};var b=$(a),c={el:a,$el:$(a)};this.init=function(){var a=$("[aria-controls="+c.$el.attr("id")+"]");a.filter("option").closest("select").on("change",function(a){$(a.currentTarget);$("option[aria-controls]",a.currentTarget).each(function(){var a=$(this),b=$("#"+a.attr("aria-controls"));if(a.is(":selected")){var c=b.find("[data-focusable-text]").first();0===c.length&&(c=b.find("legend, p, h1, h2, h3, h4, h5, h6, input, label, button, a").first()),c.attr("tabindex","-1").one("blur",function(){$(this).removeAttr("tabindex")}),CM.ExpandablePanel.methods.expand(b,a),window.setTimeout(function(){c.focus()},500)}else CM.ExpandablePanel.methods.collapse(b,a)})}),a.filter("button").on("click",function(a){var b=$("#"+a.currentTarget.getAttribute("aria-controls"));CM.ExpandablePanel.methods.toggle(b,$(a.currentTarget))})},CM.ExpandablePanel.panels[b.attr("id")]=c};CM.ExpandablePanel.methods={toggle:function(a,b){a=a instanceof jQuery?a:$(a),b=b instanceof jQuery?b:$(b),a.trigger("toggle",{panel:a[0],control:b[0]}),a.hasClass("is-expanded")?CM.ExpandablePanel.methods.collapse(a,b):CM.ExpandablePanel.methods.expand(a,b)},collapse:function(a,b){a=a instanceof jQuery?a:$(a),b=b instanceof jQuery?b:$(b),a.trigger("collapse",{panel:a[0],control:b[0]}),a.removeClass("is-expanded").attr("aria-hidden","true"),b.attr("aria-expanded","false")},expand:function(a,b){a=a instanceof jQuery?a:$(a),b=b instanceof jQuery?b:$(b),a.trigger("expand",{panel:a[0],control:b[0]}),a.addClass("is-expanded").removeAttr("aria-hidden"),b.attr("aria-expanded","true")}}});var CM=CM||{};$(function(){CM.FilterList=function(a){CM.FilterList.lists=CM.FilterList.lists||{};var b=$(a),c=b.attr("data-filter-list"),d=b.find("[data-filter-list-role=item]"),e=b.find("[data-filter-list-role=copy]"),f=e.find("[data-filter-list-role=criteria-names]"),g=$("[data-filter-list="+c+"][data-filter-list-role=data]"),h=$("[data-filter-list="+c+"][data-filter-list-role=submit]"),i=$("[data-filter-list="+c+"][data-filter-list-role=reset]"),j=$("[data-filter-list="+c+"][data-filter-list-role=form]"),k=j.find(".expandable-panel"),l={el:a,$el:b,data:[],items:[]};this.init=function(){l.items=CM.FilterList.methods.compileItemsArr(d),l.data=CM.FilterList.methods.compileDataArr(g),l.$expandablePanels=k,l.copy={$els:e,content:e.text(),criteriaNames:{$els:f,names:[]}},h.filter("button, [role=button]").on("click",function(a){CM.FilterList.methods.submit(a.currentTarget.getAttribute("data-filter-list"))}),i.filter("button, [role=button]").on("click",function(a){CM.FilterList.methods.reset(a.currentTarget.getAttribute("data-filter-list"))})},CM.FilterList.lists[c]=l};CM.FilterList.methods={compileItemsArr:function(a){a=a instanceof jQuery?a:$(a);var b=[];return a.each(function(){for(var a={el:this,$el:$(this),active:!0,criteria:[]},c=a.$el.attr("data-filter-list-criteria").split(","),d=0;d<c.length;d++)c[d]=c[d].replace(/^ /,""),a.criteria.push(c[d].split(" "));b.push(a)}),b},compileDataArr:function(a){a=a instanceof jQuery?a:$(a);var b=[];return a.each(function(){var a=!!$(this).is("[data-filter-list-show=true]"),c={el:this,$el:$(this),showCriteriaName:a,name:function(){var a=this.$el;if(a.is("select")){var b="";return a.find("option").each(function(){this.getAttribute("value")===a.val()&&(b=this.innerHTML)}),b}if(a.is("[type=checkbox]")){return $("label[for="+a.attr("id")+"]").html()}return a.val()},value:function(){var a=this.$el,b=!!a.is(":visible"),c=a.closest(".expandable-panel");return c.length>0&&(c.hasClass("is-expanded")||(b=!1)),a.closest(".hidden").length>0&&(b=!1),!!b&&(a.is("select")?null!==a.val()&&""!==a.val()||!a.is("[required=required]")?(CM.FormInput.methods.error.hide(a),a.val()):(CM.FormInput.methods.error.show(a),a.one("change",function(){CM.FormInput.methods.error.hide(this)}),{error:!0,value:a.val(),field:a}):a.is("[type=checkbox]")?!!a.is(":checked")&&a.val():a.val())},reset:function(){var a=this.$el;if(a.is("select")){var b=a.find("[selected=selected]");a.closest(".form-group").removeClass("has-value"),b.length>0?a.val(b.attr("value")):a.val(a.find("option").first().attr("value"))}else a.is("[type=checkbox]")&&(a[0].checked=!1)}};b.push(c)}),b},submit:function(a){var b=CM.FilterList.lists[a],c=[],d=!0;b.copy.criteriaNames.names=[];for(var e=0;e<b.data.length;e++){var f=b.data[e].value();f&&("object"==typeof f?!0===f.error?(b.data[e].$el.focus(),d=!1):(b.data[e].showCriteriaName&&b.copy.criteriaNames.names.push(b.data[e].name()),c.push(f.value)):(b.data[e].showCriteriaName&&b.copy.criteriaNames.names.push(b.data[e].name()),c.push(f)))}if(d){for(var g=0;g<b.items.length;g++){for(var h=!0,i=0;i<b.items[g].criteria.length;i++)arraysEqual(b.items[g].criteria[i].sort(),c.sort())&&(h=!1,b.items[g].active=!0,CM.FilterList.methods.show(b.items[g].$el));h&&(b.items[g].active=!1,CM.FilterList.methods.hide(b.items[g].$el))}b.copy.$els.html(b.copy.content+commaSeperatedList(b.copy.criteriaNames.names)),b.copy.$els.removeClass("hidden"),$("html, body").animate({scrollTop:b.$el.offset().top},300,CM.FilterList.methods.focusHeader(b.copy.$els))}},focusList:function(a){a.attr("tabindex","-1"),window.setTimeout(function(){a.focus()},100),a.one("blur",function(){$(this).removeAttr("tabindex")})},focusHeader:function(a){var b=a.first();b.attr("tabindex","-1"),window.setTimeout(function(){b.focus()},300),b.one("blur",function(){$(this).removeAttr("tabindex")})},focusItem:function(a){for(var b=0;b<a.length;b++)if(a[b].active){a[b].el.setAttribute("tabindex","-1"),window.setTimeout(function(){a[b].$el.focus()},50),a[b].$el.one("blur",function(){$(this).removeAttr("tabindex")});break}},reset:function(a){for(var b=CM.FilterList.lists[a],c=0;c<b.data.length;c++)b.data[c].reset();for(var d=0;d<b.items.length;d++)CM.FilterList.methods.show(b.items[d].$el);b.$expandablePanels.each(function(){CM.ExpandablePanel.methods.collapse(this,$("[aria-controls="+this.getAttribute("id")+"]"))}),b.copy.$els.addClass("hidden")},toggle:function(a){a=a instanceof jQuery?a:$(a),a.trigger("toggle",{item:a[0],control:$controlEl[0]}),a.hasClass("hidden")?CM.FilterList.methods.hide(a):CM.FilterList.methods.show(a)},hide:function(a){a=a instanceof jQuery?a:$(a),a.trigger("hide",{item:a[0]}),a.addClass("hidden")},show:function(a){a=a instanceof jQuery?a:$(a),a.trigger("show",{item:a[0]}),a.removeClass("hidden")}}});var CM=CM||{};$(function(){CM.FormInput=function(a){var b=$(a);this.init=function(){b.on("focus",function(a){var b=$("input:not(:focus) + [data-toggle=popover][aria-expanded=true], label:not(:focus) + [data-toggle=popover][aria-expanded=true], textarea:not(:focus) + [data-toggle=popover][aria-expanded=true], input:not(:focus)[data-toggle=popover][aria-describedby]");CM.Tooltip.methods&&CM.Tooltip.methods.hide(b,!0)})},CM.FormInput.methods={error:{toggle:function(a){a=a instanceof jQuery?a:$(a),a.trigger("error:toggle",{item:a[0],control:$controlEl[0]}),a.hasClass("validation-input-danger")?CM.FilterList.methods.hide(a):CM.FilterList.methods.show(a)},hide:function(a){a=a instanceof jQuery?a:$(a);var b=a.next(".validation-message-danger");a.trigger("error:hide",{item:a[0]}),a.removeAttr("aria-describedby").removeClass("validation-input-danger"),b.attr("aria-hidden","true")},show:function(a){a=a instanceof jQuery?a:$(a);var b=a.next(".validation-message-danger");a.trigger("error:show",{item:a[0]}),a.attr("aria-describedby",b.attr("id")).addClass("validation-input-danger"),b.attr("aria-hidden","false")}}}}});var CM=CM||{};!function(a){CM.InPageNav=function(b){var c=a(b),d=a(b).find(".nav-pills li"),e=d.find("a, button"),f=a(b).find(".j-2_module-v2 button");this.init=function(){c.find(".tab-pane").attr("tabindex","-1"),d.on("click",function(b){"LI"===b.target.tagName&&a(this).find("a, button").click()}),e.on("show.bs.tab",function(b){var c=b.currentTarget.getAttribute("id"),d=b.currentTarget.getAttribute("href");a("option[value="+c+"]").closest("select").val(c),window.setTimeout(function(){a(d).attr("tabindex","-1")},100)}),f.on("click",function(b){var d=a(b.currentTarget).closest("form").find("select");a("#"+d.val()).tab("show"),c.find("[role=tabpanel].active").focus()})}}}(jQuery);var CM=CM||{};$(function(){CM.Tooltip=function(a){function b(){var b=!1,c=$(a).attr("aria-describedby"),d=$(a).position(),e=$(window).width(),f=$(a).height(),g=$("#"+c),h=g.width(),i=(g.height(),d.left+16-h/2-33),j=d.top+f+0,k=i+h+80,l=67,m=l-((e-i)/h*l-85),n=h/e;g.css("top",j+"px"),h>600||n>.74?window.matchMedia("(max-width: 768px)").matches?(g.css({right:"15px",left:"15px"}),$("#"+c+" .arrow").css("left",d.left/($(window).width()-30)*100+"%")):(g.css({right:"0px",left:i+13+"px"}),$("#"+c+" .arrow").css("left","50%")):(k>=e?(g.css({right:"-10px",left:"initial"}),b=!0):k<=0?(g.css({right:"initial",left:"0px"}),b=!0):(g.css({right:"initial",left:i+"px"}),b=!1),b?$("#"+c+" .arrow").css("left",m+"%"):$("#"+c+" .arrow").css("left","50%"))}var c=$(a);this.init=function(){if($(window).on("resize",function(a){"true"==c.attr("aria-expanded")&&b()}),c.is('[data-close="button"]')){var a="sr-only",d=c.attr("data-classnames")||"";"true"===c.attr("data-show-title")&&(a="",d+=" has-header"),c.attr("data-template",'<div class="popover '+d+'" role="alert" aria-label="'+c.attr("aria-label")+'"><div class="arrow"></div><h3 class="popover-title '+a+'"></h3><div class="popover-content small"></div><button class="popover-close-button" tabindex="0" data-sigil="touchable" role="button">close</button></div>')}c.popover({trigger:"manual",html:!0,content:function(){return $("#popover-content").html()}}),c.on("click focus mouseenter keypress touchstart",function(a){var c=$(this);if("true"===c.attr("data-from-close"))return c.removeAttr("data-from-close"),!1;var d=13===a.keyCode||"keypress"!==a.type;0===c.next(".popover.in").length&&d&&"click"!==c.attr("data-open-method")?CM.Tooltip.methods.show(c,a.type):"click"===c.attr("data-open-method")&&"click"===a.type?CM.Tooltip.methods.hide(c,!0):"click"!==c.attr("data-open-method")&&c.attr("data-open-method",a.type),b()}).on("mouseout blur",function(a){var c=$(this);"blur"===a.type&&"click"!==c.attr("data-open-method")?window.setTimeout(function(){c.next().find(".popover-close-button").is(":focus")||CM.Tooltip.methods.hide(c)},10):"click"!==c.attr("data-open-method")&&CM.Tooltip.methods.hide(c),b()}).on("click focus mouseover",function(a){var c=$("[data-toggle=popover]").not(this);"mouseover"===a.type&&(c=c.not("[type=password]")),CM.Tooltip.methods.hide(c,!0),b()}),c.one("inserted.bs.popover",function(a){$(a.currentTarget).next(".popover").find(".popover-close-button").on("click touchstart",function(a){a.preventDefault();var b=$(this),c=b.closest(".popover.in"),d=c.prev("[data-toggle=popover]");CM.Tooltip.methods.hide(d,!0,!0),c.attr("aria-expanded","false")})})},CM.Tooltip.methods={toggle:function(a){a=a instanceof jQuery?a:$(a),a.trigger("toggle",{popover:a[0]}),a.next(".popover.in").length?CM.Tooltip.methods.hide(a):CM.Tooltip.methods.show(a)},hide:function(a,b,c){a=a instanceof jQuery?a:$(a),a.trigger("hide",{popover:a[0]}),a.attr("aria-expanded","false").removeAttr("data-from-close").popover("hide"),b&&a.removeAttr("data-open-method"),c&&(a.attr("data-from-close","true"),a.focus())},show:function(a,b){a=a instanceof jQuery?a:$(a);a.next(".validation-message-danger");a.trigger("show",{popover:a[0]}),a.attr("data-open-method",b),a.attr("aria-expanded","true"),a.popover("show")}}}});var CM=CM||{};$(function(){CM.TableComparison=function(a){function b(){k=$(window).width(),k<769?(a.removeClass("mode-desktop"),a.addClass("mode-mobile"),c()):k>768&&(a.removeClass("mode-mobile"),a.addClass("mode-desktop"),d())}function c(){a.attr("role","presentation"),h.attr("tabindex","-1"),g.attr("aria-hidden","true"),g.attr("hidden","true"),g.addClass("hidden"),i.each(function(a,b){var c=$(this),d=c.next(".table-row");c.hasClass("is-expanded")?d.attr("aria-hidden","false"):d.attr("aria-hidden","true")})}function d(){a.removeAttr("role"),h.removeAttr("tabindex"),g.attr("aria-hidden","false"),g.removeAttr("hidden"),g.hasClass("hidden")&&g.removeClass("hidden"),i.each(function(a,b){var c=$(this),d=c.next(".table-row");d.hasClass("table-show")?d.attr("aria-hidden","false"):d.hasClass("table-hidden-by-default")?d.attr("aria-hidden","true"):d.attr("aria-hidden","false")})}function e(a,b){l=a,oldToggle=$(j).attr("data-toggled-copy"),oldText=$(j).find("span").text(),$(j).attr("data-toggled-copy",oldText),toggleStr=oldToggle,$(j).find("span").text(toggleStr),$(j).attr("data-accordion-state",b)}var f,a=$(a),g=a.find("thead"),h=g.find("a"),i=a.find(".for-mobile"),j=$(a).find(".toggle-accordion-table"),k=0,l="collapse"===$(j).data("accordionState");this.init=function(){$(window).on("resize",function(a){clearTimeout(f),f=setTimeout(function(){b()},100)}),b(),a.on("click keyup","tr.for-mobile",function(a){if(13===a.keyCode||32===a.keyCode||void 0===a.keyCode){var b=$(this),c=b.next();c.is(":animated")||(b.hasClass("is-expanded")?(b.removeClass("is-expanded"),b.attr("data-toggle","collapse"),c.attr("aria-hidden",!0),b.find("span:first").attr({"aria-expanded":!1,"aria-selected":!1,"data-title":"Select to display"}).blur()):(b.addClass("is-expanded"),b.attr("data-toggle","expanded"),c.attr("aria-hidden",!1),b.find("span:first").attr({"aria-expanded":!0,"aria-selected":!0,"data-title":"Select to hide"}).focus()))}});var c=$(a).parent().find(".table-toggle-more");$(c).on("click touch",function(b){"false"==$(this).attr("aria-expanded")?($(this).attr("aria-expanded","true").addClass("expanded"),a.find(".table-hidden-by-default").addClass("table-show").attr("aria-hidden","false")):($(this).attr("aria-expanded","false").removeClass("expanded"),a.find(".table-hidden-by-default").removeClass("table-show").attr("aria-hidden","true"))})},$(j).on("click touch",function(){var a=$(this).closest(".comparison-table-module").find(i);l?(e(!1,"expand"),a.attr("data-toggle","expanded"),a.addClass("is-expanded"),a.find("th span").attr("aria-expanded","true"),a.find("th span").attr("aria-selected","true"),a.find("th span").attr("data-title","Select to hide"),a.find("th span").attr("data-toggle","expanded"),a.find("td span").attr("aria-expanded","true"),a.find("td span").attr("aria-selected","true"),a.find("td span").attr("data-title","Select to hide"),a.find("td span").attr("data-toggle","expanded")):(e(!0,"collapse"),a.attr("data-toggle","collapse"),a.removeClass("is-expanded"),a.find("th span").attr("aria-expanded","false"),a.find("th span").attr("aria-selected","false"),a.find("th span").attr("data-title","Select to display"),a.find("th span").attr("data-toggle","collapse"),a.find("td span").attr("aria-expanded","false"),a.find("td span").attr("aria-selected","false"),a.find("td span").attr("data-title","Select to display"),a.find("td span").attr("data-toggle","collapse"))}),i.on("click touch",function(){setTimeout(function(){var b=a.find(".is-expanded").length,c=(i.length,$(j).attr("data-accordion-state"));0===b&&"expand"===c&&e(!0,"collapse"),5===b&&"collapse"===c&&e(!1,"expand")},5)})}}),$(function(){CM.ContainerHeight=function(a){function b(){window.matchMedia("(max-width: 991px)").matches?g():(d(),e(),f())}function c(){var a=0;k.each(function(b,c){o++;var d=[],e=[],f="";tableCols=$(c).find(".hCol"),tableCols.each(function(b,c){a++,d[b]=$(c).first().height(),f=h(),$(c).attr("id",f),e[b]=f}),l.push(d),m.push(e),d=null,d=[],e=null,e=[],f=""}),p=a/o,i(p)||console.error("Table checksum failed!!")}function d(){if(0===o&&0===p)return!1;for(var a="",b=0;b<o;b++)for(var c=0;c<p;c++)a=m[b][c],$("#"+a).removeAttr("style"),l[b][c]=$("#"+a).first().height()}function e(){if(0===o&&0===p)return!1;var a=0;n=null,n=[];for(var b=0;b<p;b++){for(var c=0;c<o;c++)l[c][b]>a&&(a=l[c][b]);n.push(a),a=0}}function f(){if(0===o&&0===p)return!1;for(var a="",b=0;b<p;b++)for(var c=0;c<o;c++)a=m[c][b],$("#"+a).height(n[b])}function g(){if(0===o&&0===p)return!1;for(var a="",b=0;b<o;b++)for(var c=0;c<p;c++)a=m[b][c],$("#"+a).removeAttr("style")}function h(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<7;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a}function i(a){return Number(a)===a&&a%1==0}var j=$(a),k=j.find(".hRow"),l=[],m=[],n=[],o=0,p=0;this.init=function(){c(),$(window).on("resize",function(a){b()}),b()}}});